"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[973],{19540:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(40171),o=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var o=this.bufferLength;o<r.BLOCK_SIZE;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<r.BLOCK_SIZE-8;o++)t.setUint8(o,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(r.DIGEST_LENGTH),o=0;o<8;o++)i[4*o]=this.state[o]>>>24&255,i[4*o+1]=this.state[o]>>>16&255,i[4*o+2]=this.state[o]>>>8&255,i[4*o+3]=this.state[o]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],f=t[7],h=0;h<r.BLOCK_SIZE;h++){if(h<16)this.temp[h]=(255&e[4*h])<<24|(255&e[4*h+1])<<16|(255&e[4*h+2])<<8|255&e[4*h+3];else{var l=this.temp[h-2],d=(l>>>17|l<<15)^(l>>>19|l<<13)^l>>>10,g=((l=this.temp[h-15])>>>7|l<<25)^(l>>>18|l<<14)^l>>>3;this.temp[h]=(d+this.temp[h-7]|0)+(g+this.temp[h-16]|0)}var y=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&c)|0)+(f+(r.KEY[h]+this.temp[h]|0)|0)|0,p=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&o^n&i^o&i)|0;f=c,c=u,u=s,s=a+y|0,a=i,i=o,o=n,n=y+p|0}t[0]+=n,t[1]+=o,t[2]+=i,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=c,t[7]+=f},e}();t.RawSha256=o},40171:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=9007199254740991},99131:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(53856).__exportStar(n(86581),t)},86581:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(53856),o=n(40171),i=n(19540),a=n(41720),s=function(){function e(e){this.secret=e,this.hash=new i.RawSha256,this.reset()}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new i.RawSha256,this.secret){this.outer=new i.RawSha256;var e=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>o.BLOCK_SIZE){var n=new i.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(o.BLOCK_SIZE);return r.set(t),r}(this.secret),t=new Uint8Array(o.BLOCK_SIZE);t.set(e);for(var n=0;n<o.BLOCK_SIZE;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},e}();t.Sha256=s},53856:function(e,t,n){n.r(t),n.d(t,{__assign:function(){return i},__asyncDelegator:function(){return I},__asyncGenerator:function(){return w},__asyncValues:function(){return S},__await:function(){return v},__awaiter:function(){return f},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return T},__createBinding:function(){return l},__decorate:function(){return s},__exportStar:function(){return d},__extends:function(){return o},__generator:function(){return h},__importDefault:function(){return b},__importStar:function(){return A},__makeTemplateObject:function(){return k},__metadata:function(){return c},__param:function(){return u},__read:function(){return y},__rest:function(){return a},__spread:function(){return p},__spreadArrays:function(){return m},__values:function(){return g}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function l(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function g(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{var n;(n=o[e](t)).value instanceof v?Promise.resolve(n.value.v).then(u,c):f(i[0][2],n)}catch(e){f(i[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function f(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function I(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function S(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=g(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function T(e,t,n){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},59880:function(e,t,n){var r=n(9109).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var o=n(54306),i=void 0!==r&&r.from?function(e){return r.from(e,"utf8")}:o.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},41720:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(59880);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var o=n(69992);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return o.isEmptyData}});var i=n(7186);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var a=n(73212);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},69992:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},7186:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},73212:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}},54306:function(e,t,n){n.r(t),n.d(t,{fromUtf8:function(){return i},toUtf8:function(){return a}});let r=e=>{let t=[];for(let n=0,r=e.length;n<r;n++){let r=e.charCodeAt(n);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(n+1<e.length&&(64512&r)==55296&&(64512&e.charCodeAt(n+1))==56320){let o=65536+((1023&r)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)},o=e=>{let t="";for(let n=0,r=e.length;n<r;n++){let r=e[n];r<128?t+=String.fromCharCode(r):192<=r&&r<224?t+=String.fromCharCode((31&r)<<6|63&e[++n]):240<=r&&r<365?t+=decodeURIComponent("%"+[r,e[++n],e[++n],e[++n]].map(e=>e.toString(16)).join("%")):t+=String.fromCharCode((15&r)<<12|(63&e[++n])<<6|63&e[++n])}return t},i=e=>"function"==typeof TextEncoder?new TextEncoder().encode(e):r(e),a=e=>"function"==typeof TextDecoder?new TextDecoder("utf-8").decode(e):o(e)},75919:function(e,t,n){n.d(t,{l:function(){return o}});var r=n(72407);class o extends r._{constructor(e){super(e),this.constructor=o,Object.setPrototypeOf(this,o.prototype)}}},77959:function(e,t,n){n.d(t,{EU:function(){return i},Jg:function(){return o},MA:function(){return s},VL:function(){return c},hj:function(){return h},mP:function(){return a},sX:function(){return l},vC:function(){return u},wW:function(){return f}});var r=n(75919);let o="UserUnAuthenticatedException",i="UserAlreadyAuthenticatedException",a="DeviceMetadataNotFoundException",s="AutoSignInException",u=new r.l({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),c=new r.l({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."}),f="OAuthSignOutException",h="TokenRefreshException",l="UnexpectedSignInInterruptionException"},49052:function(e,t,n){n.d(t,{R:function(){return i}});var r=n(12053),o=n(75919);function i(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new o.l({name:r.Z.Unknown,message:"An unknown error has occurred.",underlyingError:e})}},4268:function(e,t,n){n.d(t,{t:function(){return s}});var r=n(55888),o=n(12887),i=n(65355);let a=async e=>{let t=e.getConfig().Auth?.Cognito;(0,o.FG)(t);let n=await e.Auth.getTokens({forceRefresh:!1});(0,i.CA)(n);let{"cognito:username":r,sub:a}=n.idToken?.payload??{},s={username:r,userId:a},u=n?.signInDetails;return u&&(s.signInDetails=u),s},s=async()=>a(r.d)},15439:function(e,t,n){n.d(t,{sI:function(){return f},_X:function(){return l}});var r,o=n(12887),i=n(75919);let a={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails"};var s=n(47752);(r||(r={})).InvalidAuthTokens="InvalidAuthTokens";let u={[r.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},c=(0,s.$)(u);class f{constructor(){this.name="CognitoIdentityServiceProvider"}getKeyValueStorage(){if(!this.keyValueStorage)throw new i.l({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new i.l({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let n=(0,o.xp)(t),r=await this.getKeyValueStorage().getItem(e.idToken),a=r?(0,o.xp)(r):void 0,s=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,u=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",c=Number.parseInt(u),f=await this.getKeyValueStorage().getItem(e.signInDetails),h={accessToken:n,idToken:a,refreshToken:s,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:c,username:await this.getLastAuthUser()};return f&&(h.signInDetails=JSON.parse(f)),h}catch(e){return null}}async storeTokens(e){c(void 0!==e,r.InvalidAuthTokens),await this.clearTokens();let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken&&await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()),e.refreshToken&&await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails&&await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey())])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),r=await this.getKeyValueStorage().getItem(t.deviceGroupKey),o=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return o&&r&&n?{deviceKey:n,deviceGroupKey:r,randomPassword:o}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){(0,o.FG)(this.authConfig?.Cognito);let t=e??await this.getLastAuthUser();return h(this.name,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){(0,o.FG)(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${this.name}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}}let h=(e,t)=>l(a)(`${e}`,t);function l(e){let t=Object.values({...e});return(e,n)=>t.reduce((t,r)=>({...t,[r]:`${e}.${n}.${r}`}),{})}},70949:function(e,t,n){let r;n.d(t,{D:function(){return A},C:function(){return b}});var o,i=n(35658),a=n(12887),s=n(81808),u=n(60645),c=n(65355),f=n(75919),h=n(77352);let l=(o=async({tokens:e,authConfig:t,username:n})=>{(0,a.FG)(t?.Cognito);let r=(0,u.u)(t.Cognito.userPoolId);(0,c.XD)(e);let o=e.refreshToken,i={REFRESH_TOKEN:o};e.deviceMetadata?.deviceKey&&(i.DEVICE_KEY=e.deviceMetadata.deviceKey);let l=(0,h.u)({username:n,userPoolId:t.Cognito.userPoolId,userPoolClientId:t.Cognito.userPoolClientId}),{AuthenticationResult:d}=await (0,s.Cg)({region:r},{ClientId:t?.Cognito?.userPoolClientId,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:i,UserContextData:l}),g=(0,a.xp)(d?.AccessToken??""),y=d?.IdToken?(0,a.xp)(d.IdToken):void 0,{iat:p}=g.payload;if(!p)throw new f.l({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:g,idToken:y,clockDrift:1e3*p-new Date().getTime(),refreshToken:o,username:n}},async(...e)=>r||(r=new Promise((t,n)=>{o(...e).then(e=>{t(e)}).catch(e=>{n(e)}).finally(()=>{r=void 0})})));var d=n(15439),g=n(34335);let y=()=>"undefined"!=typeof window&&void 0!==window.document;var p=n(69399),m=n(49052);let v=new(n(69088)).R(i.Fm),w=[],I=e=>{w.push(e)};class S{constructor(){this.waitForInflightOAuth=y()?async()=>await v.loadOAuthInFlight()?(this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{I(e)})),this.inflightPromise):void 0:async()=>{}}setAuthConfig(e){v.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new f.l({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new f.l({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{(0,a.FG)(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;let r=!!t?.idToken&&(0,p.p)({expiresAt:(t.idToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0}),o=(0,p.p)({expiresAt:(t.accessToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0});return(e?.forceRefresh||r||o)&&null===(t=await this.refreshTokens({tokens:t,username:n}))?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{let{signInDetails:n}=e,r=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return r.signInDetails=n,await this.setTokens({tokens:r}),g.Xb.dispatch("auth",{event:"tokenRefresh"},"Auth",g.SQ),r}catch(e){return this.handleErrors(e)}}handleErrors(e){if((0,m.R)(e),"Network error"!==e.message&&this.clearTokens(),g.Xb.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",g.SQ),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}}class k{constructor(){this.authTokenStore=new d.sI,this.authTokenStore.setKeyValueStorage(i.Fm),this.tokenOrchestrator=new S,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(l)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}let A=new k,{tokenOrchestrator:b}=A},81808:function(e,t,n){n.d(t,{Vo:function(){return _},Cq:function(){return O},_f:function(){return T},oe:function(){return K},Cg:function(){return A},S5:function(){return E},H6:function(){return P},PX:function(){return b},y1:function(){return C}});var r=n(48591),o=n(55962),i=n(49052),a=n(75919),s=n(55888),u=n(14221),c=n(64684),f=n(1123),h=n(77880),l=n(79101),d=n(53266),g=n(64043);let y="cognito-idp",p=(0,g.V)(c.y,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),m={service:y,endpointResolver:({region:e})=>{let t=s.d.getConfig().Auth?.Cognito,n=t?.userPoolEndpoint,r=new l.a(`https://${y}.${e}.${(0,u.b)(e)}`);return{url:n?new l.a(n):r}},retryDecider:(0,f.j)(o.f),computeDelay:h.k,userAgentValue:(0,d.Zm)(),cache:"no-store"},v=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),w=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),I=e=>(t,n)=>w(n,v(e),JSON.stringify(t)),S=()=>async e=>{if(!(e.statusCode>=300))return await (0,o.e)(e);{let t=await (0,o.f)(e);throw(0,i.R)(t),new a.l({name:t.name,message:t.message})}},k=()=>async e=>{if(e.statusCode>=300){let t=await (0,o.f)(e);throw(0,i.R)(t),new a.l({name:t.name,message:t.message})}},A=(0,r.z)(p,I("InitiateAuth"),S(),m),b=(0,r.z)(p,I("RevokeToken"),S(),m),C=(0,r.z)(p,I("SignUp"),S(),m),T=(0,r.z)(p,I("ConfirmSignUp"),S(),m);(0,r.z)(p,I("ForgotPassword"),S(),m),(0,r.z)(p,I("ConfirmForgotPassword"),S(),m);let P=(0,r.z)(p,I("RespondToAuthChallenge"),S(),m),E=(0,r.z)(p,I("ResendConfirmationCode"),S(),m);(0,r.z)(p,I("VerifySoftwareToken"),S(),m);let _=(0,r.z)(p,I("AssociateSoftwareToken"),S(),m);(0,r.z)(p,I("SetUserMFAPreference"),S(),m),(0,r.z)(p,I("GetUser"),S(),m),(0,r.z)(p,I("ChangePassword"),S(),m);let O=(0,r.z)(p,I("ConfirmDevice"),S(),m);(0,r.z)(p,I("ForgetDevice"),k(),m),(0,r.z)(p,I("DeleteUser"),k(),m),(0,r.z)(p,I("GetUserAttributeVerificationCode"),S(),m);let K=(0,r.z)(p,I("GlobalSignOut"),S(),m);(0,r.z)(p,I("UpdateUserAttributes"),S(),m),(0,r.z)(p,I("VerifyUserAttribute"),S(),m),(0,r.z)(p,I("UpdateDeviceStatus"),S(),m),(0,r.z)(p,I("ListDevices"),S(),m),(0,r.z)(p,I("DeleteUserAttributes"),S(),m)},60645:function(e,t,n){n.d(t,{N:function(){return i},u:function(){return o}});var r=n(75919);function o(e){let t=e?.split("_")[0];if(!e||0>e.indexOf("_")||!t||"string"!=typeof t)throw new r.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function i(e){if(!e||!e.includes(":"))throw new r.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}},69088:function(e,t,n){n.d(t,{R:function(){return u}});var r=n(12887),o=n(15439),i=n(65355);let a="amplify-signin-with-hostedUI",s="CognitoIdentityServiceProvider";class u{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){(0,r.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){(0,r.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(a),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){(0,r.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){(0,r.FG)(this.cognitoConfig);let t=c(s,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){(0,r.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){(0,r.FG)(this.cognitoConfig);let t=c(s,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){(0,r.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){(0,r.FG)(this.cognitoConfig);let t=c(s,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){(0,r.FG)(this.cognitoConfig);let e=c(s,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(a),[n,o]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===o}}async storeOAuthSignIn(e,t=!1){(0,r.FG)(this.cognitoConfig);let n=c(s,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}let c=(e,t)=>(0,o._X)(i.Bx)(e,t)},65355:function(e,t,n){n.d(t,{Bx:function(){return h},CA:function(){return i},Cg:function(){return a},XD:function(){return c},tr:function(){return f}});var r=n(75919),o=n(77959);function i(e){if(!e||!e.accessToken)throw new r.l({name:o.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}function a(e){if(!e||!e.idToken)throw new r.l({name:o.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}let s=new r.l({name:o.hj,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),u=new r.l({name:o.Jg,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function c(e){if(l(e)&&!e?.refreshToken)throw s;if(!(l(e)&&e?.refreshToken))throw u}function f(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new r.l({name:o.mP,message:"Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.",recoverySuggestion:"Make sure to not clear storage after calling the signIn API."})}let h={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function l(e){return e?.accessToken||e?.idToken}},77352:function(e,t,n){n.d(t,{u:function(){return r}});function r({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;let r=window.AmazonCognitoAdvancedSecurityData;if(void 0===r)return;let o=r.getData(e,t,n);return o?{EncodedData:o}:{}}},79753:function(e,t,n){n.d(t,{W:function(){return i}});var r=n(53266),o=n(95760);let i=(e,t)=>(0,r.Zm)({category:o.WD.Auth,action:e,...t})},64684:function(e,t,n){n.d(t,{y:function(){return c}});var r=n(20263),o=n(51105),i=n(64043),a=n(7189);let s=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),u=async({url:e,method:t,headers:n,body:r},{abortSignal:o,cache:i,withCrossDomainCredentials:u})=>{let c;try{c=await fetch(e,{method:t,headers:n,body:s(t)?r:void 0,signal:o,cache:i,credentials:u?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw Error("Network error");throw e}let f={};c.headers?.forEach((e,t)=>{f[t.toLowerCase()]=e});let h={statusCode:c.status,headers:f,body:null},l=Object.assign(c.body??{},{text:(0,a.p)(()=>c.text()),blob:(0,a.p)(()=>c.blob()),json:(0,a.p)(()=>c.json())});return{...h,body:l}},c=(0,i.V)(u,[o.n,r.d])},55962:function(e,t,n){n.d(t,{e:function(){return i},f:function(){return o}});var r=n(91378);let o=async e=>{if(!e||e.statusCode<300)return;let t=await i(e),n=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError");return Object.assign(Error(t.message??t.Message??"Unknown error"),{name:n,$metadata:(0,r.B)(e)})},i=async e=>{if(!e.body)throw Error("Missing response payload");return Object.assign(await e.body.json(),{$metadata:(0,r.B)(e)})}},47752:function(e,t,n){n.d(t,{$:function(){return o}});var r=n(72407);let o=(e,t=r._)=>(n,r,o)=>{let{message:i,recoverySuggestion:a}=e[r];if(!n)throw new t({name:r,message:o?`${i} ${o}`:i,recoverySuggestion:a})}},12887:function(e,t,n){n.d(t,{YE:function(){return h},V0:function(){return f},FG:function(){return c},xp:function(){return l}});var r,o,i=n(45386),a=n(47752);(r=o||(o={})).AuthTokenConfigException="AuthTokenConfigException",r.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",r.AuthUserPoolException="AuthUserPoolException",r.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",r.OAuthNotConfigureException="OAuthNotConfigureException";let s={[o.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[o.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[o.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[o.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[o.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},u=(0,a.$)(s);function c(e){u(!!e&&!!e.userPoolId&&!!e.userPoolClientId,o.AuthUserPoolException)}function f(e){u(!!e?.loginWith?.oauth?.domain&&!!e?.loginWith?.oauth?.redirectSignOut&&!!e?.loginWith?.oauth?.redirectSignIn&&!!e?.loginWith?.oauth?.responseType,o.OAuthNotConfigureException)}function h(e){u(!!e?.identityPoolId,o.InvalidIdentityPoolIdException)}function l(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(i.$.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),o=JSON.parse(r);return{toString:()=>e,payload:o}}catch(e){throw Error("Invalid token payload")}}},45386:function(e,t,n){n.d(t,{$:function(){return o}});var r=n(82384);let o={convert:e=>(0,r.tl)()(e)}},82384:function(e,t,n){n.d(t,{Ds:function(){return i},MX:function(){return o},tl:function(){return a}});var r=n(72407);let o=()=>{if("object"==typeof window&&"object"==typeof window.crypto)return window.crypto;if("object"==typeof crypto)return crypto;throw new r._({name:"MissingPolyfill",message:"Cannot resolve the `crypto` function from the environment."})},i=()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new r._({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},a=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new r._({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})}},12194:function(e,t,n){n.d(t,{X:function(){return d}});var r=n(57437);n(2265);var o=n(94120),i=n(15593),a=n(31149),s=n(86348),u=n(35628),c=n(869),f={root:"m_1b7284a3"};let h={},l=(0,i.Z)((e,t)=>{let{radius:n,shadow:r}=t;return{root:{"--paper-radius":void 0===n?void 0:(0,o.H5)(n),"--paper-shadow":(0,o.Xj)(r)}}}),d=(0,c.b)((e,t)=>{let n=(0,a.w)("Paper",h,e),{classNames:o,className:i,style:c,styles:d,unstyled:g,withBorder:y,vars:p,radius:m,shadow:v,variant:w,mod:I,...S}=n,k=(0,s.y)({name:"Paper",props:n,classes:f,className:i,style:c,classNames:o,styles:d,unstyled:g,vars:p,varsResolver:l});return(0,r.jsx)(u.x,{ref:t,mod:[{"data-with-border":y},I],...k("root"),variant:w,...S})});d.classes=f,d.displayName="@mantine/core/Paper"}}]);