"use strict";(()=>{var e={};e.id=974,e.ids=[974],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},12781:e=>{e.exports=require("stream")},73837:e=>{e.exports=require("util")},48080:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>k,requestAsyncStorage:()=>w,routeModule:()=>x,serverHooks:()=>h,staticGenerationAsyncStorage:()=>f});var s={};r.r(s),r.d(s,{DELETE:()=>c,GET:()=>p,PUT:()=>l});var a=r(49303),i=r(88716),n=r(60670),u=r(87070),o=r(53524),d=r(94458);async function p(e,t){let{params:r}=t,s=await (0,d.T)(e);if(!s)return u.NextResponse.json(null,{status:401});let a=new o.PrismaClient,i=await a.task.findFirst({where:{id:r.id,createdBy:s.sub}});return u.NextResponse.json(i,{status:200})}async function l(e,t){let{params:r}=t,{title:s,status:a,priority:i,file:n,due_date:p}=await e.json(),l=new o.PrismaClient,c=await (0,d.T)(e);if(!c)return u.NextResponse.json(null,{status:401});let x=await l.task.findFirst({where:{id:r.id,createdBy:c.sub}});return x?(await l.task.update({where:{id:r.id},data:{title:s||x.title,status:a||x.status,priority:i||x.priority,dueDate:p||x.dueDate,file:n||x.file,createdBy:c.sub}}),u.NextResponse.json(x,{status:200})):u.NextResponse.json(x,{status:404})}async function c(e,t){let{params:r}=t,s=new o.PrismaClient,a=await (0,d.T)(e);if(!a)return u.NextResponse.json(null,{status:401});let i=await s.task.findFirst({where:{id:r.id,createdBy:a.sub}});return i?(await s.task.delete({where:{id:r.id,createdBy:a.sub}}),u.NextResponse.json(i,{status:200})):u.NextResponse.json(i,{status:404})}let x=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/tasks/[id]/route",pathname:"/api/tasks/[id]",filename:"route",bundlePath:"app/api/tasks/[id]/route"},resolvedPagePath:"/Users/devanhduy/Desktop/Freelancer/aws-task-manager/src/app/api/tasks/[id]/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:w,staticGenerationAsyncStorage:f,serverHooks:h}=x,y="/api/tasks/[id]/route";function k(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:f})}},94458:(e,t,r)=>{r.d(t,{T:()=>i});var s=r(41482),a=r.n(s);let i=async e=>{try{let t=e.headers.get("Authorization");if(!t)return null;return t=t.replace("Bearer ",""),a().decode(t)}catch(e){return console.error("Error verifying token:",e),null}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,547],()=>r(48080));module.exports=s})();